# Standard Stream(표준 스트림)

### 스트림(stream)
- 시간이 지남에 따라 사용할 수 있게 되는 일련의 데이터 요소
- 일반적으로 데이터, 패킷, 비트 등의 일련의 연속성을 갖는 흐름
- 스트림 데이터의 예시로는 음성, 영상, 텍스트 등의 데이터
    - 유튜브같은 사이트에서 영상을 보낼 때 영상 파일을 통채로 보낸다면 모두 보내질 때 까지 우리는 영상을 볼 수 없지만, 영상 파일을 잘게 쪼개 연속적으로 줄지어 컴퓨터로 보내면 우리는 먼저 도착한 영상 파일을 볼 수 있음. 이렇게 줄줄이 연속적으로 흘러가는 것이 스트림의 동작 방식

<br>

### 리다이렉션(Redirection)
- 표준 스트림의 입력과 출력의 방향을 다른 곳으로 바꿔버리는 것
- 리다이렉션을 사용하면 표준 입력을 키보드가 아닌 파일로부터 받을 수 있고, 표준 출력을 디스플레이가 아닌 파일로 할 수 있음

<br>

### 파이프(Pipe)
- 라다이렉션이 표준 스트림의 대상을 파일로 변경하는 것이었다면, 파이프는 표준 입출력의 방향을 프로세스로 바꿀 수 있음
- ps 명령은 현재 실행중인 프로세스를 출력하는 명령이고, grep 명령은 파일에서 특정 단어나 패턴을 포함하고 있는 명령

<br>

### 표준 스트림
- 우리가 키보드나 마우스 같은 단말기를 통해 어떠한 데이터(문자, 파일)를 입력하게 되면 컴퓨터는 프로그램을 통해 그에 알맞는 데이터를 출력시켜주는데 표준 스트림은 이를 추상화 한것
    - 보통 입출력은 물리적으로 연결된 키보드와 모니터를 통해 일어나는데, 표준 스트림이란 이 키보드로부터의 입력과 모니터로의 출력을 추상화한 것. 운영체제가 기동 되면 대화형 셸 (bash, zsh 같은) 은 3개의 표준 스트림이 상속함
- 스트림은 단방향으로 데이터 스트림은 순차적인 데이터 바이트들을 파일의 끝(End of File, EOF)까지 읽어 프로그램은 쓸 데이터가 얼마나 남았는지, 혹은 어떤식으로 묶여 있는지 알 필요없이 필요한 데이터를 쓸 수 있음
    - 스트림은 바이트 형태의 데이터를 운반하는데 사용되는 연결통로로 물이 흐르는 것과 같이 단방향 통신만 가능하고 하나의 스트림으로 입력과 출력을 동시에 처리할 수 없음
    - 먼저 보낸 데이터를 먼저 받게되어 있어 연속적으로 주고 받는다는 점에서 큐(queue)의 FIFO(First in First Out)구조로 되어 있음
- 즉, 표준 스트림은 단말기와 프로그램 사이에서 일어나는 데이터 입출력을 추상화한 것
- 이러한 표준 스트림에는 아래의 3가지 스트림이 존재
    - 표준 입력 스트림(standard input stream)
    - 표준 출력 스트림(standard output stream)
    - 표준 오류 스트림(standard error stream)

<br>

### C/C++ 에서의 스트림 : 표준 스트림(standard stream)
- 표준 스트림은 유닉스와 유닉스 계열의 OS(linux, mac...)에서 컴퓨터 프로그램과 단말기 사이에 존재하는 통로를 의미
    - 유닉스 이전의 운영체제는 장치에 대한 입출력을 구현하기 위해 장치에 대한 환경설정을 일일히 해야하는 등 프로그래밍이 까다로웠음
- C 언어 에서의 스트림은 결국 프로그램을 드나드는 데이터, 파일등을 바이트의 흐름으로 나타냄

<br>

### JAVA에서의 스트림 : 입력/출력 스트림(Input/Output Stream)
- 입력/출력 스트림이란 표준 스트림과 비슷한 개념으로 프로그램이 출발지나 또는 도착지냐에 따라 스트림의 종류가 결정됨
    - 프로그램이 데이터를 입력받을 땐 입력 스트림을 이용하며 프로그램이 어디로 데이터를 보낼 때는 출력 스트림을 이용. 여기서 스트림 역시 프로그램을 드나드는 데이터, 파일 등의 바이트 흐름임
    - 자바에서는 모든 I/O가 스트림을 통해 이루어짐
- 자바는 해당 표준 스트림을 System 클래스를 통해 사용
- 자바에서는 처리 단위에 따라 Reader - inputStream / Writer - outputStream 으로 나뉘어 통신함
    - InputStream은 System.in을 사용
    - OutputStream은 System.out을 사용
    - InputStream/OutputStream을 사용하려면 반드시 해당 패키지를 import 해주어야 함
- Input Stream의 경우 여러 개의 값을 입력해도 1개의 문자밖에 못 가져오며 기본형은 int로 받아옴
- 문자만 주고 받을 수 있게하기위해 문자 단위의 입출력 스트림인 BufferedReader/BufferedWriter 를 사용. Scanner 클래스도 있지만 주로 BufferedReader를 사용한다고 함
    - 표준 출력 스트림
        - print()
        - println()
        - printf()
        - OutputStreamWriter 클래스
    - 표준 입력 스트림
        - read() // int 형으로 입력 받음
        - Scanner 클래스
        - InputStreamReader 클래스

<br>

### JAVA에서의 스트림 : 반복자 스트림(Stream)
- 자바8부터 추가된 반복자로 컬렉션, 배열 등의 저장 요소를 하나씩 참조해서 람다식으로 처리할 수 있도록 해주는 기능
- 쉽게 말해 이전의 컬렉션이나 배열 등의 원소를 가공할 때 for, foreach 등을 반복자를 통해서 각각의 원소에 접근해 원소를 가공하였지만 스트림의 경우 특정 타입의 스트림을 선언하여 필요한 형태로 가공하여 반환

<br>

### 표준 입력 스트림(standard input stream, STDIN)
- 컴퓨터 프로그램에 입력되는 데이터 스트림(data stream)으로 표준 입력이라고도 함
- 입력스트림은 기본적으로 키보드로 문자열을 입력받으나 리다이렉션(redirection)을 통해 입력받을 수 있음
- 하지만 항상 입력이 존재해야하는 것은 아님. command line argument만 존재하고 키보드나 파일으 통한 입력이 없을 수도 있음

<br>

### 표준 출력 스트림(standard output stream, STDOUT)
- 컴퓨터 프로그램에서 출력되는 데이터 스트림
- 기본적으로 텍스트 터미널을 통해 모니터에 출력되지만 리다이렉션을 통해 파일에 출력값을 저장 할 수 있음
- 줄 단위의 버퍼링이 존재
- 마찬가지로 항상 출력이 존재하는 것은 아님

<br>

### 표준 오류 스트림(standard error stream, STDERR)
- 표준 오류 스트림은 프로그램이 오류메시지나 진단을 출력하기 위해 일반적으로 쓰이는 또 다른 출력 스트림
- 명령 수행에 실패하였을 때 출력되는 오류들을 출력
- 버퍼링이 없어도 출력이 가능
- 표준 출력과는 별개의 스트림으로 별도로 리다이렉션 될 수 있음

<br>

<div style="text-align: right">22-11-28</div>

-------

## Reference
- https://velog.io/@developer-daily/표준-스트림
- https://hudi.blog/linux-standard-stream-redirection-pipe/
- https://ontheway.tistory.com/51
- https://terianp.tistory.com/19