# Router

### Router
- 패킷의 위치를 추출하여 그 위치에 대한 최적의 경로를 지정하며, 이 경로를 따라 데이터 패킷을 다음 장치로 전향시키는 장치
- 라우터는 이름 그대로 네트워크와 네트워크 간의 경로(Route)를 설정하고 가장 빠른 길로 트래픽을 이끌어주는 3계층 네트워크 장비
- 라우터는 계층구조를 가지며 라우터는 외부 라우터와 내부 라우터로 나눌 수 있음. 내부 라우터는 라우팅 정보를 공유하는 특정 지역 내의 라우터. 외부 라우터는 내부 라우터가 다른 지역의 네트워크와 통신할 때 게이트웨이 역할을 하는 라우터
- 라우터의 대표적인 기능은 네트워크와 네트워크를 연결하는 것이지만, NAT(Network Address Translation), 방화벽, VPN(Virtual Private Network), Qos(Quality of Service)등 다양한 부가 기능을 함께 제공하기도 함
- 패킷을 읽어 어느 네트워크로 전송할지 판단하는 처리를 라우팅(Routing, 경로제어)이라고 하며, 경로가 결정되면 해당 경로로 데이터 패킷을 넘겨주는 것을 스위칭(switching)이라고함. 
- L3 스위치가 라우터 역할을 하기도 함

<br>

### 라우터 구조
- 인터페이스
    - 네트워크와 라우터에서 직접 연결되는 부분
    - 허브나 스위치와 연결하는 이더넷 인터페이스 또는 DSU나 CSU와 연결하는 Serial
- 램
    - 라우터를 운용하는 운용 시스템이 올라가게 된다.
    – 램은 파워가 꺼지면 모두 지워지기 때문에 운용체제도 파워가 켜진 다음에 램 위로 올라오게 된다. – 운영체제를 IOS(Internetwork Operating System)를 사용한다.
    – 운영체제가 올라가고 그 다음은 라우팅 테이블이 올라간다.
    – 구성파일이 올라간다. (라우터의 주소, 라우팅 프로토콜, 보안 등)
    – ARP 캐시나, 패스트 스위칭에 대한 캐시를 가지고 있다.
- NVRAM(Non Volatile RAM)
    – 전원을 끈 상태에서도 정보가 날아가지 않는 램을 뜻한다.
    – 구성 파일을 백업하는 용도로 사용한다.
- Flash 메모리
    – 운영체제인 IOS(Internetwork Operating System)는 플래시 메모리에 저장
    – 전원이 꺼져도 데이터가 지워지지 않는 곳
    – NVRAM과 다른 점은 NVRAM에 비해서 플래시 메모리는 용량이 큼
- ROM
    – 라우터의 가장 기본적인 내용이 들어간다.
    – 기본적인 IOS가 들어가있다.

<br>

### 라우팅 테이블
- 라우팅 테이블은 경로에 대해 지도 정보를 유지하는데. 패킷을 보낼 곳을 판단할 때 필요한 정보. 
- 지도 정보가 RAM에 유지되기 때문에 전원이 꺼지면 정보가 소실되기 때문에 라우팅 프로토콜의 가장 중요한 목적이 바로 라우팅 테이블의 구성
- 라우팅 테이블은 4가지를 가지고 있음
    - 목적지의 네트워크 주소 (Destination Address)
    - 목적지의 네트워크로 패킷을 보내기 위한 자신의 인터페이스
    - 목적지의 네트워크에 패킷을 보낼 때의 다음 경로 주소
    - 목적지의 최적 경로를 선택하기 위한 값

<br>

### AS (Autonomous System, 자율적 시스템)
- 인터넷에서 동일한 관리자에 의해 여러 내부 라우팅 프로토콜을 동일한 정책을 통해 관리되는 라우터들과 서브네트워크 들의 집합. 즉 하나의 네트워크 관리자에 의해 관리되는 라우터의 집단
- 한 회사, 기업, 단체의 전산망, 크게보면 ISP 등을 말하는데 하나의 관리 통제하에 있는 영역
- 네트워크는 AS에 의해 분리되어야함. 라우팅 정책의 독립성, 보안유지, 고장 및 오류의 국지화, 라우팅 트래픽양의 최소화 등을 하기 위함
- 라우터가 가진 정보를 효율적으로 관리. 인터넷 서비스를 좀 더 간편하게 사용

<br>

### 라우터의 중요 모드
- RXBOOT 모드 : 라우터의 패스워드를 모르는 경우나 라우터의 이미지 파일(IOS)에 문제가 생긴 경우에 복구를 위해 사용
- 셋업 모드 : 라우터를 처음 구매해서 파워를 켰거나 라우터에 구성 파일이 없는 경우 라우터가 부팅하면서 자동으로 들어가는 모드
- 유저 모드 : 주로 테스트 목적으로 사용하는데 현재 상태를 볼 수 있음. 핑을 해본다거나 트레이스 등을 해볼 수 있음
- 프리빌리지드 모드 : 모든 라우터의 명령이 가능. 구성을 볼 수 있고 변경할 수도 있음
- 구성(Config) 모드 : 라우터의 구성 파일을 변경하는 경우에 사용하는 모드. 프리빌리지드 모드에 있어야 해당 모드에 들어갈 수 있음
```
핑(Ping), 트레이스(Trace)
- 핑과 트레이스는 라우터를 구성한 후 네트워크의 연결에 이상이 없는지를 테스트하기 위해 만든 프로그램
- 출발지에서 목적지까지 연결에 이상이 없는지, 그리고 이상이 있다면 어디에서 이상이 발생했는지를 핑과 트레이스를 이용해서 찾아낼 수 있음
- 출발지에서 목적지뿐만 아니라 중간에 거친 경로에 대한 정보와 소요시간까지도 확인해 볼 수 있는 것이 트레이스임
```

<br>

![Routing Protocols](./img/Routing_protocols.png)

<br>

### 라우팅 유형 (Static / Dynamic)
#### 정적 라우팅 ( Static Routing ) 
- 관리자가 수동으로 라우팅 정보를 설정. 라우터는 오직 관리자가 지정한 대로 데이터를 전송
- 이에 해당 경로에 장애가 생겼을 경우, 우회 경로를 자동으로 선택할 수 없음
- 지정해 놓은대로만 전송하기 때문에 동적 라우팅에 비해 속도가 빠르고 성능이 좋음
- 자신의 정보를 알리지 않기 때문에 보안에 강함(라우팅 테이블 교환하지 않음)
- 라우터의 수가 많아질수록, 복잡해지고 장애 대처와 관리가 어려움
- 소규모로 검증할 경우 불필요한 패킷 발생을 방지하기 위해 정적 라우팅을 이용

#### 동적 라우팅 ( Dynamic Routing )
- 라우터가 동적으로 경로를 찾아가는 라우팅
- 관리자가 일일이 경로를 입력하지 않아도 라우터가 경로를 찾아감
- 어떤 경로에 장애가 생겼을 경우 우회 경로를 자동으로 선택하기 때문에 장애 대처와 관리가 쉬워짐
- 라우팅 테이블을 라우터 간에 계속 업데이트하며 교환하기 때문에 라우터의 부담이 큼
- 이러한 운영 관리 측면 장점으로 동적 라우팅을 이용하는 네트워크가 압도적으로 많음

<br>

### 라우팅 프로토콜
- 라우팅 프로토콜은 라우터 간의 경로 정보(라우팅 테이블) 교환에 사용되는 프로토콜
- 라우팅 프로토콜은 크게 EGP와 IGP로 구분됨

![IGP-EGP](./img/EGP-IGP.png)

<br>

#### EGP ( Exterior Gateway Protocol )
- AS 간의 경로 정보를 교환하기 위한 프로토콜
- 외부 AS 통신 프로토콜
- 주로 BGP (Border Gateway Protocol) 사용
    BGP 
        - 대규모 네트워크에 대응하도록 설계. 
        - EGP의 단점을 보완하기 위해 개발. 최근은 BGP4를 사용
        - 인접한 라우터끼리 라우팅 정보를 학습하는 <code>distance vector</code> 알고리즘 사용
        - BGP로 동작하는 라우터는 대부분 고가.
#### IGP ( Interior Gateway Protocol )
- AS 내부에서 이용되는 프로토콜.
- IGP에서 주로 RIP, OSPF, EIGRP 사용
    1. RIP ( Routing Infomation Protocol )
        - 홉 수 (목적네트워크까지의 라우터 수)를 기준으로 경로를 선택하는 프로토콜로, <code>distance vector</code>형 프로토콜이라고도 불림.
        - 구현이 쉬워 자주 이용되었으나 루핑(Looping)등의 문제로 OSPF나 EIGRP를 채용하는 사례 증가
    2. OSRP ( Open Shortest Path First )
        - RIP로는 실현할 수 없는 빠른 경로 전환과 경로의 대역폭을 고려한 경로 선택 등이 가능하고 멀티 벤더도 가능.
        - 대규모 네트워크를 지원할 수 있는 프로토콜로 <code>link state</code>형 프로토콜로 불림
        - 한 라우터가 모든 경로 정보를 토폴로지 데이터베이스화 하여 가지고 있음. 토폴로지 베이스를 SPF(최단 경로 우선) 알고리즘을 통해 가장 빠른 경로를 찾음
        - 모든 라우팅 정보를 가지고 있고 이 중 변경된 부분만 교환하기 때문에 디스턴스 벡터 방식에 비해 트래픽 발생이 적고 CPU 부담이 큼
    3. EIGRP ( Enhanced Interior Gateway Routing Protocol )
        - Cisco의 <code>IGRP</code>를 개량한 프로토콜로, 경로 선택을 복수의 요소로 결정하며 경로를 전환할 수 있음.
        - 링크 스테이트와 디스턴스 벡터의 성질을 모두 갖추고 있어, 하이브리드형이나 확장 디스턴스 벡터형으로 불림
        - 소~대규모 네트워크를 지원할 수 있고, 허브나 스포크형 대규모 네트워크에 적합.
        - Sisco 독자 프로토콜로 Cisco 온리 네트워크 안에서 구현되는 일이 많다고 함

```
Router 알고리즘

거리 벡터 라우팅 알고리즘 (Distance Vector)
    - 거리에 따른 경로 설정 방식. 거리에 따른 메트릭(metric)값의 크기를 이용하여 경로를 결정
    - 거리와 방향을 고려. 
    - 목적지까지의 거리와 목적지 까지 가기위해 거쳐갈 인접 라우터만 저장. 
    - 인접 라우터끼리만 주기적으로 라우팅 테이블을 교환하여 라우팅 테이블 관리
    - Looping 발생 가능 -> Looping이란 프레임이 네트워크 상에서 무한정으로 빙빙 돌아 이더넷의 특성상 네트워크가 잠잠해질 때까지 기다리고 데이터 전송이 불가능해지는 상태
    - distance-거리, vector-크기
    - 디스턴스 벡터의 종류로는 RIP, EIGRP,BGP 등이 있음. 해당 프로토콜들은 인접 라우터들에게 자신을 통하면 특정 네트워크까지 가는 메트릭 값이 얼마인지 광고
    - 디스턴스 벡터 프로토콜은 인접 라우터들에게만 정보를 알려주어 라우터 입장에서는 전체적인 네트워크 구성을 알지 못하고 어떤 포트로 가면 목적지 네트워크의 메트릭이 얼마인지만 알고있음
    - 경로를 결정할 때 경로가 여러곳이라면 가장 낮은 메트릭 값을 경로로 결정

링크 상태 라우팅 알고리즘 (Link State)
    - 라우터에 접속되어있는 네트워크정보 라우터와 인접한 라우터 정보들을 광고
    - 전체적인 구성을 파악하고 지도를 보며 찾아가는 방식으로 하나의 라우터가 목적지까지의 모든 경로를 알고 있음
    - 링크 스테이트는 경로 정보에 대한 데이터베이스를 가지고 SPF(우선경로탐색)알고리즘로 가장 빠른 경로를 찾음
    - 해당 SPF를 가지고 SPF 트리를 만들어 사용. 해당 트리는 가장 빠른 경로를 찾아가는 방식으로 해당 트리를 이용해 라우팅 테이블을 만듬
    - 링크 스테이트의 종류로는 OSPF가 존재
    - 한 라우터가 모든 정보를 알고있어 링크의 변화를 알아채는데 걸리는 시간이 짧고 라우터끼리의 교환이 자주 발생하지 않아 트래픽 발생 감소
    - 그만큼 메모리 소모가 많고 CPU 부담이 큼

경로 벡터 라우팅 알고리즘 (Path Vector Routing)
    - 경로 정보를 벡터 형태로 라우터 간에 교환하는 방식
    - 각 경로는 목적지까지의 전체 경로(즉, 중간에 거치는 모든 라우터의 목록)를 포함함
    - 주로 자율 시스템(AS) 간의 경로를 결정하는 데 사용되고 보더 게이트웨이 프로토콜 (BGP)가 대표적인 예
    - 경로 루프를 쉽게 감지하고 피할 수 있으며 네트워크 정책에 따라 경로를 유연하게 선택할 수 있음

하이브리드 라우팅 알고리즘 (Hybrid Routing)
    - 거리 벡터 라우팅과 링크 상태 라우팅의 장점을 결합한 방식
    - 초기에는 거리 벡터 방식을 사용하여 빠르게 경로를 설정하고, 이후에 링크 상태 정보를 사용하여 경로를 최적화함
    - 경로의 초기 설정이 빠르고, 최적화가 이루어지며 이하드 인테리어 게이트웨이 라우팅 프로토콜 (EIGRP)이 대표적인 예
    - 빠른 수렴과 안정적인 경로 선택을 제공

IGRP ( Interior Gateway Routing Protocol)
    - Sisco 에서 발명한 거리 벡터 내부 게이트웨이 라우팅 프로토콜. 
    - 인접한 게이트웨이와 라우팅 정보를 교환하여 게이트웨이 간의 동기화된 라우팅 프로세스를 가능하게 함. 라우팅 정보에는 네트워크에 대한 자세한 정보가 들어있음
    - IGRP는 사유 프로토콜으로 대형망에서 사용할 때 RIP의 제약인 15홉, 하나의 라우팅 메트릭을 부분적으로 극복할 목적으로 만들어졌으나 라우팅 루프 문제가 발생하여 피하기 위해 특정 변경이 발생할 때 새로 생성된 데이터를 무시 -> IGRP를 개선하여 EIGRP 개발
```

<br>

## Ssafy Wizards CS Study

### 1. 라우팅과 포워딩의 차이
#### 라우팅 (Routing)
- 라우팅은 데이터 패킷이 목적지에 도달하기 위해 어떤 경로를 따라야할지 결정하는 과정
- 라우팅 프로토콜을 사용하여 네트워크 내의 라우터 간에 경로 정보를 교환하고, 최적의 경로를 결정
- 라우팅 테이블을 생성하고 유지하며 목적지에 대한 최적의 경로를 저장

#### 포워딩 (Forwarding)
- 포워딩은 데이터 패킷을 실제로 목적지로 전달하기 위해, 라우팅 테이블을 참고하여 올바른 네트워크 인터페이스로 패킷을 전송하는 과정
- 라우팅 테이블에서 해당 목적지에 대한 최적 경로를 조회하고 해당 경로를 따라 패킷을 다음 홉 또는 목적지로 전달함
- 라우터는 수신된 패킷의 목적지 IP 주소를 확인하고, 라우팅 테이블을 참조하여 해당 패킷을 어떤 경로로 보낼지를 결정한 후, 패킷을 적절한 출구 인터페이스로 포워딩함

```
라우팅 테이블 기본 구성 요소
1. 목적지 네트워크 (Destination Network): 패킷이 향하는 최종 네트워크 또는 IP 주소
2. 넷마스크 (Netmask): 네트워크의 크기를 나타내며, IP 주소가 네트워크의 어느 부분을 차지하는지를 결정
3. 게이트웨이 또는 다음 홉 (Gateway or Next Hop): 패킷이 목적지에 도달하기 위해 다음으로 전달되어야 할 라우터 또는 네트워크
4. 인터페이스 (Interface): 라우터에서 해당 패킷이 전달될 네트워크 인터페이스
5. 메트릭 (Metric): 경로의 비용 또는 우선순위를 나타내며, 라우터는 이 값을 사용하여 여러 경로 중에서 최적 경로를 선택함
```

<br>

#### 예시

| Destination Network | Netmask        | Gateway        | Interface | Metric |
|---------------------|----------------|----------------|-----------|--------|
| 192.168.1.0         | 255.255.255.0  | 192.168.1.1    | eth0      | 1      |
| 10.0.0.0            | 255.0.0.0      | 10.1.1.1       | eth1      | 2      |
| 0.0.0.0             | 0.0.0.0        | 192.168.1.254  | eth0      | 10     |

<br>


### 2. 라우팅 알고리즘
- 라우팅하기 위한 최적의 경로를 결정하기 위해 사용되는 알고리즘을 의미
- 라우터는 이러한 알고리즘을 사용하여 각 패킷이 가장 효율적인 경로를 따라 전달될 수 있도록 경로를 계산하고 선택
- 라우팅 알고리즘의 주요 목적은 다음과 같음
    - 최단 경로 선택
    - 네트워크 효율성 향상
    - 네트워크 안전성 보장
    - 루프 방지
- 라우팅 알고리즘의 종류는 정적 라우팅과 동적 라우팅으로 구성됨
    - 정적 라우팅 : 네트워크 관리자에 의해 수동으로 설정된 경로입. 경로가 한 번 설정되면 변경되지 않으며, 네트워크 환경의 변화에 자동으로 대응하지 않음
    - 동적 라우팅 : 라우터가 네트워크의 상태를 실시간으로 모니터링하고, 경로를 자동으로 갱신하는 방식. 네트워크의 변화에 따라 최적의 경로를 지속적으로 업데이트함
- 라우팅 알고리즘의 작동 원리
    1. 네트워크 정보 수집 : 라우터는 네트워크의 현재 상태에 대한 정보를 수집. 이 정보에는 인접 라우터의 상태, 가용 대역폭, 네트워크 지연 시간 등이 포함됨
    2. 경로 계산 : 수집된 정보를 바탕으로 각 목적지까지의 가능한 경로를 계산함. 라우팅 알고리즘은 이 과정에서 최단 경로, 최소 비용, 또는 최저 대역폭을 사용하는 경로 등을 선택
    3. 라우팅 테이블 갱신 : 계산된 경로를 라우팅 테이블에 저장함. 이 테이블은 라우터가 패킷을 전달할 때 참조하는 데이터베이스 역할을 함
    4. 패킷 포워딩 : 라우터는 라우팅 테이블을 참고하여 수신된 패킷을 최적의 경로로 전달함
- 주요 라우팅 알고리즘은 위의 내용과 동일하여 그대로 가져옴

```
거리 벡터 라우팅 알고리즘 (Distance Vector)
    - 거리에 따른 경로 설정 방식. 거리에 따른 메트릭(metric)값의 크기를 이용하여 경로를 결정
    - 거리와 방향을 고려. 
    - 목적지까지의 거리와 목적지 까지 가기위해 거쳐갈 인접 라우터만 저장.
    - 인접 라우터끼리만 주기적으로 라우팅 테이블을 교환하여 라우팅 테이블 관리
    - Looping 발생 가능 -> Looping이란 프레임이 네트워크 상에서 무한정으로 빙빙 돌아 이더넷의 특성상 네트워크가 잠잠해질 때까지 기다리고 데이터 전송이 불가능해지는 상태
    - distance-거리, vector-크기
    - 디스턴스 벡터의 종류로는 RIP, EIGRP,BGP 등이 있음. 해당 프로토콜들은 인접 라우터들에게 자신을 통하면 특정 네트워크까지 가는 메트릭 값이 얼마인지 광고
    - 디스턴스 벡터 프로토콜은 인접 라우터들에게만 정보를 알려주어 라우터 입장에서는 전체적인 네트워크 구성을 알지 못하고 어떤 포트로 가면 목적지 네트워크의 메트릭이 얼마인지만 알고있음
    - 경로를 결정할 때 경로가 여러곳이라면 가장 낮은 메트릭 값을 경로로 결정

링크 상태 라우팅 알고리즘 (Link State)
    - 라우터에 접속되어있는 네트워크정보 라우터와 인접한 라우터 정보들을 광고
    - 전체적인 구성을 파악하고 지도를 보며 찾아가는 방식으로 하나의 라우터가 목적지까지의 모든 경로를 알고 있음
    - 링크 스테이트는 경로 정보에 대한 데이터베이스를 가지고 SPF(우선경로탐색)알고리즘로 가장 빠른 경로를 찾음
    - 해당 SPF를 가지고 SPF 트리를 만들어 사용. 해당 트리는 가장 빠른 경로를 찾아가는 방식으로 해당 트리를 이용해 라우팅 테이블을 만듬
    - 링크 스테이트의 종류로는 OSPF가 존재
    - 한 라우터가 모든 정보를 알고있어 링크의 변화를 알아채는데 걸리는 시간이 짧고 라우터끼리의 교환이 자주 발생하지 않아 트래픽 발생 감소
    - 그만큼 메모리 소모가 많고 CPU 부담이 큼

경로 벡터 라우팅 알고리즘 (Path Vector Routing)
    - 경로 정보를 벡터 형태로 라우터 간에 교환하는 방식
    - 각 경로는 목적지까지의 전체 경로(즉, 중간에 거치는 모든 라우터의 목록)를 포함함
    - 주로 자율 시스템(AS) 간의 경로를 결정하는 데 사용되고 보더 게이트웨이 프로토콜 (BGP)가 대표적인 예
    - 경로 루프를 쉽게 감지하고 피할 수 있으며 네트워크 정책에 따라 경로를 유연하게 선택할 수 있음

하이브리드 라우팅 알고리즘 (Hybrid Routing)
    - 거리 벡터 라우팅과 링크 상태 라우팅의 장점을 결합한 방식
    - 초기에는 거리 벡터 방식을 사용하여 빠르게 경로를 설정하고, 이후에 링크 상태 정보를 사용하여 경로를 최적화함
    - 경로의 초기 설정이 빠르고, 최적화가 이루어지며 이하드 인테리어 게이트웨이 라우팅 프로토콜 (EIGRP)이 대표적인 예
    - 빠른 수렴과 안정적인 경로 선택을 제공

IGRP ( Interior Gateway Routing Protocol)
    - Sisco 에서 발명한 거리 벡터 내부 게이트웨이 라우팅 프로토콜. 
    - 인접한 게이트웨이와 라우팅 정보를 교환하여 게이트웨이 간의 동기화된 라우팅 프로세스를 가능하게 함. 라우팅 정보에는 네트워크에 대한 자세한 정보가 들어있음
    - IGRP는 사유 프로토콜으로 대형망에서 사용할 때 RIP의 제약인 15홉, 하나의 라우팅 메트릭을 부분적으로 극복할 목적으로 만들어졌으나 라우팅 루프 문제가 발생하여 피하기 위해 특정 변경이 발생할 때 새로 생성된 데이터를 무시 -> IGRP를 개선하여 EIGRP 개발
```

<br>

### 3. 포워딩 테이블의 구조
- 포워딩 테이블은 라우터 또는 스위치가 수신된 데이터 패킷을 올바른 출구 포트로 전달하기 위해 사용되는 데이터 구조
- 이 테이블은 라우팅 테이블과는 다르지만 라우팅 테이블에서 파생된 정보를 바탕으로 동작함
- 포워딩 테이블의 구조는 패킷이 목적지로 이동하는 데 필요한 정보를 효율적으로 제공하도록 설계되어 있음
- 포워딩 테이블의 주요 구성 요소는 다음과 같음
    1. 목적지 주소 (Destination Address) : 포워딩 테이블의 핵심 요소로, 패킷이 도달해야 하는 최종 목적지 주소를 나타냄. 이는 일반적으로 IP 주소 또는 MAC 주소일 수 있음
    2. 출구 인터페이스 (Outgoing Interface) : 패킷이 라우터나 스위치를 통해 전송될 때, 패킷이 나가는 네트워크 인터페이스(포트)를 나타냄. 이 필드는 패킷이 다음 네트워크 세그먼트로 전달될 때 사용됨
    3. 다음 홉 (Next Hop) : 목적지 네트워크로 패킷을 전달하기 위해 거쳐야 할 다음 라우터의 IP 주소를를 나타냄. 이 필드는 라우터에서 사용되며, 스위치에서는 주로 사용되지 않음
    4. MAC 주소 (스위치의 경우) : 스위치에서 포워딩 테이블(주로 MAC 주소 테이블이라고도 함)은 목적지 MAC 주소와 출구 포트를 연관시킴. 패킷이 목적지 MAC 주소를 기준으로 올바른 포트로 전송됨
    5. 메트릭 (Metric) : 일부 고급 포워딩 테이블에서는 라우팅 결정에 따라 메트릭(예: 대역폭, 지연 시간, 비용 등)을 포함하여 여러 경로 중 최적의 경로를 선택할 수 있음

#### 라우터 포워딩 테이블 예시

| **Destination Address** | **Next Hop**      | **Outgoing Interface** |
|-------------------------|------------------|------------------------|
| 192.168.1.0/24           | 192.168.2.1      | eth0                   |
| 10.0.0.0/8               | 10.1.1.1         | eth1                   |
| 0.0.0.0/0                | 192.168.1.254    | eth0                   |

<br>

#### 스위치 포워딩 테이블 예시

| **Destination MAC Address** | **Outgoing Port** |
|-----------------------------|-------------------|
| 00:1A:2B:3C:4D:5E            | 1                 |
| 00:1A:2B:3C:4D:5F            | 2                 |
| 00:1A:2B:3C:4D:60            | 3                 |

<br>

#### 라우팅 테이블과 포워딩 테이블 간략 비교

| **구분**               | **라우팅 테이블 (Routing Table)**                 | **포워딩 테이블 (Forwarding Table)**             |
|------------------------|----------------------------------------------------|--------------------------------------------------|
| **주요 기능**          | 네트워크 경로 결정                                 | 실제 패킷 전달을 위한 최적 경로 사용            |
| **정보의 범위**        | 전체 네트워크 경로 정보 포함                       | 실제 전송에 필요한 최적 경로만 포함             |
| **경로 선택**          | 여러 경로 중 최적 경로를 선택                       | 이미 선택된 최적 경로 사용                       |
| **생성 및 관리**       | 라우팅 프로토콜(OSPF, BGP 등)에 의해 동적 관리      | 라우팅 테이블 정보를 기반으로 자동 생성          |
| **사용 위치**          | 라우터 내부의 경로 결정 과정                       | 패킷이 네트워크를 통과할 때의 실시간 사용        |
| **구성 정보**          | 목적지 네트워크, 다음 홉, 메트릭, 네트워크 마스크 등 | 목적지 주소, 출구 인터페이스(포트)              |

<br>

<div style="text-align: right">22-07-25</div>

-------

## Reference
- https://velog.io/@ette9844/Network-라우터의-기능과-구조
- https://choidev-1.tistory.com/28
- https://puzzle-puzzle.tistory.com/entry/네트워크-용어-라우터란-Router
- https://facelight.tistory.com/35
- https://dltjrals2.github.io/network/network-concept-9/