# 18. 웹 호스팅, 19. 배포 시스템, 20. 리다이렉션과 부하균형

<br>

## 18. 웹 호스팅
### 궁금한 내용
- HTTP 1.0은 가상 호스팅시 설계 결함으로 uri/index 시 uri를 생략하고 index만 입력받아오는데 이는 가상 호스팅이 제대로 동작되지 않았음
    - 최근 가상 호스팅 방법은 HTTP/1.1 Host 헤더, 서버 블록 또는 가상 호스트 설정, 가상화 및 컨테이너 기술, 리버스 프록시 등의 기술을 사용
    - 최근 가상 호스팅은 동일한 IP 주소와 포트를 사용하고 Host 헤더로 구분하지만 가상 호스팅이 서로 다른 IP 주소를 사용하면 IP 기반 가상호스팅, 서로 다른 포트를 사용하면 포트 기반 가상 호스팅이라고 함
    - HTTP/1.1 이상 버전은 Host 헤더를 반드시 기재해야함

<br>

## 19. 배포 시스템
### 궁금한 내용
- 원격 프로시저 호출(RPC, Remote Procedure Call)은 네트워크를 통해 다른 컴퓨터에서 실행되는 함수나 프로시저를 호출하는 기술
    - 책에서의 FP, FPSE의 RPC 계층은 클라이언트가 웹 서버에서 특정 작업을 요청하고, 웹 서버는 그 요청을 처리하여 응답을 반환하는 방식으로 동작
- 현재 FP, FPSE는 사용되는지?
    - 사용되지 않음. FPSE는 여러 보안 취약점으로 인해 많은 비판을 받았으며 2003년을 마지막으로 새로운 버전의 FrontPage는 더 이상 출시되지 않았고, 이후 Microsoft Expression Web 및 SharePoint Designer로 전환됨
    - HTML, CSS, JavaScript와 같은 표준 웹 기술이 널리 사용되면서, 웹 개발자들은 특정 도구나 확장에 의존하기보다는 표준을 준수하는 방식으로 웹 사이트를 개발하게 됨
- WebDAV란
    - 문제로 출제
- WebDAV의 두 가지 형식의 잠금 (현재는 OAuth, 인증서 기반 인증을 사용)
    - 리소스나 콜렉션에 대한 배타적 쓰기 잠금 : 잠재적인 충돌을 완벽히 제거하여 잠금 소유자만 쓸 수 있게 보장
    - 리소스나 콜렉션에 대한 공유된 쓰기 잠금 : 여러 사람으로 이루어져 있는 그룹이 하나의 문서에서 작업할 수 있게함

<br>

## 20. 리다이렉션과 부하균형
### 궁금한 내용
- 리다이렉션 : 클라이언트가 요청한 리소스를 현재 리소스가 존재하는 다른 위치로 자동으로 변경시켜주는 프로세스
    - HTTP 애플리케이션은 신뢰할 수 있는 HTTP 트랜잭션 수행, 지연 최소화, 네트워크 대역폭 절약을 원하므로 리다이렉션 필요
    - 리다이렉션의 구현에는 들어오는 메시지의 부하를 서버들의 집합에게 분산할 수 있고, 반대로 클라이언트의 요청은 적절한 부하 분산 알고리즘을 통해 반드시 서버들 중 하나로 전달되어야 하므로 부하 균형의 과제가 포함됨
    - 클라이언트 입장에서는 서버, 프락시, 캐시, 게이트웨이 모두 HTTP 요청 처리가 가능하며 이들 모두에 리다이렉션이 동작 (특정 리다이렉션은 특정 종류의 종단만을 설계되기도 함)
- 부하 균형(load-balancing)을 위한 리다이렉션 기법
    - HTTP 리다이렉션 : 클라이언트의 요청을 다른 서버로 리디렉션하여 부하를 분산하는 기법
    - DNS 리다이렉션 : DNS 서버가 도메인 이름을 다른 IP 주소로 해석하여 클라이언트의 요청을 다른 서버로 리디렉션
    - 임의 캐스트 라우팅 : 네트워크 라우팅 프로토콜을 사용하여 클라이언트 요청을 여러 서버로 전송하는 기법
    - 정책 라우팅 : 특정 정책에 따라 클라이언트 요청을 서버로 라우팅하는 기법
    - 아이피 맥 포워딩 : 클라이언트의 IP 주소와 MAC 주소를 기반으로 요청을 적절한 서버로 전송하는 기법
    - 아이피 주소 포워딩 : 클라이언트의 IP 주소를 기반으로 요청을 적절한 서버로 전송하는 기법
    - 웹 캐시 조직 프로토콜 (WCCP) : 웹 캐시 서버를 사용하여 클라이언트 요청을 적절한 서버로 전송하는 프로토콜
    - 인터캐시 커뮤니케이션 프로토콜 (ICP) : 웹 캐시 서버 간에 요청을 전달하고 부하를 분산하는 프로토콜
    - 하이퍼텍스트 캐싱 프로토콜 (HTCP) : 하이퍼텍스트 캐시 서버를 사용하여 클라이언트 요청을 적절한 서버로 전송하는 프로토콜
    - 네트워크 요소 제어 프로토콜 (NECP) : 네트워크 장비를 사용하여 클라이언트 요청을 적절한 서버로 전송하는 프로토콜
    - 캐시 배열 라우팅 프로토콜 (CARP) : 캐시 서버를 사용하여 클라이언트 요청을 적절한 서버로 전송하는 프로토콜
    - 웹 프락시 자동발견 프로토콜 (WPAD) : 웹 프락시 서버를 자동으로 발견하여 클라이언트 요청을 적절한 서버로 전송하는 프로토콜

<br>

## 연습 문제

### Q1. 콘텐츠 분산 네트워크(CDN)의 대리 캐시와 프락시 캐시의 차이는?

<details>
<summary>정답</summary>

#### 대리 캐시
- 대리 캐시는 CDN 네트워크의 일부분으로 복제 원 서버를 대신해 사용될 수 있어 리버스 프락시라고도 불림
- 미러링된 웹 서버처럼 콘텐츠에 대한 요청을 받는데 콘텐츠에 대한 IP 주소가 알려져있어 원 서버 집합을 대신하여 요청의 콘텐츠를 캐싱하고 제공함
- 미러링 서버와의 차이점은 대리 서버는 보통 수요에 따라 동작하며 원 서버의 모든 콘텐츠를 복사하지 않으며 클라이언트가 요청하는 콘텐츠만을 저장함
- 대리 캐시는 주로 사용자와 가까운 곳에 위치하여 지리적으로 분산된 여러 장소에 배치됨

<br>

#### 프락시 캐시
- 프락시 캐시는 클라이언트와 서버 사이에 위치한 캐시 서버로 클라이언트가 요청한 콘텐츠를 대신 받아 캐시하고 제공하는 역할을 함
- 대리 서버와 다르게 프락시 캐시는 원 서버간의 연동이나 IP 주소 합의가 필요하지 않아 어떤 웹 요청이든 다 받을 수 있음
- 클라이언트가 요청한 콘텐츠가 프락시 캐시에 있는 경우, 원 서버로의 요청 없이 프락시 캐시에서 직접 제공
- 프락시 캐시는 주로 네트워크 엣지나 기업 내부 네트워크 등, 클라이언트가 요청한 콘텐츠를 중계하는 위치에 배치하여 네트워크 대역폭을 절약하고 응답 시간을 줄이기 위해 클라이언트가 요청한 콘텐츠를 캐시함

<br>

|구분|대리 캐시|프락시 캐시|
|:---:|:---:|:---:|
|운영 주체|CDN 제공자가 운영|네트워크 관리자, 기업, ISP 등이 운영|
|주요 목적|콘텐츠 전달 속도 향상 및 원 서버 부하 감소|네트워크 대역폭 절약, 응답 시간 단축 및 보안 강화|
|사용 위치|전 세계적으로 분산된 CDN 노드|특정 네트워크 내부나 엣지 (예: 기업 내부, ISP 네트워크)|

</details>

<br>

### Q2. WebDAV란 무엇이고 주요기능은 무엇이 있는지

<details>
<summary>정답</summary>

- WebDAV(Web Distributed Authoring and Versioning)란 HTTP 프로토콜을 확장하여 웹 서버를 통해 파일을 관리하고 공유할 수 있도록 하는 프로토콜
- 분산 웹 콘텐츠 관리 시스템을 지원하기 위해 설계됨
- 주요 기능으로는 파일 관리, 디렉토리 관리, 속성 관리, 잠금 관리, 버전 관리 등의 기능을 제공
    - 추가적으로 PATCH 메서드는 WebDAV의 일부가 아닌 Restful API 에서의 메서드
    - OPTIONS 메서드는 클라이언트가 서버에게 특정 리소스나 서버가 지원하는 기능을 확인하고, 지원되는 메서드와 헤더를 알아내기 위해 사용되는 메서드

<br>

### 주요기능

#### 1. 파일 관리
- 업로드/다운로드 : 클라이언트는 WebDAV를 통해 웹 서버에 파일을 업로드하거나 서버에서 파일을 다운로드할 수 있음
    - PUT, GET 메서드
- 편집 : 서버에 있는 파일을 직접 편집할 수 있음
    - PUT 메서드
- 삭제 : 서버에서 파일을 삭제할 수 있음
    - DELETE 메서드
- 이동/복사 : 파일을 다른 위치로 이동하거나 복사할 수 있음
    - MOVE, COPY 메서드

<br>

#### 2. 디렉토리 관리
- 디렉토리 생성/삭제 : 디렉토리를 생성하고 삭제할 수 있음
    - MKCOL, DELETE 메서드
- 디렉토리 목록 : 디렉토리 내의 파일 및 하위 디렉토리 목록을 볼 수 있음
    - PROPFIND 메서드

<br>


#### 3. 속성 관리
- 메타데이터 : 파일 및 디렉토리의 속성을 설정하고 조회할 수 있음
    - 작성자, 마지막 수정 날짜 등의 메타데이터 관리
    - PROPFIND, PROPPATCH 메서드

<br>


#### 4. 잠금 관리
- 파일 잠금 : 파일을 잠가서 여러 사용자가 동시에 편집하지 못하게 할 수 있음. 편집 충돌을 방지에 유용
    - LOCK 메서드
- 잠금 해제: 파일 잠금을 해제할 수 있음
    - UNLOCK 메서드

<br>

#### 5. 버전 관리
- 버전 제어 : 이전 버전으로 되돌리거나 변경 내역을 추적하는 등 파일의 여러 버전을 관리할 수 있음
    - CHECKIN, REPORT, CHECKOUT, UNCHECKOUT, UPDATE, MERGE, PROPFIND, VERSION-CONTROL 메서드

<br>

</details>

<br>
